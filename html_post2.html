<!DOCTYPE html>
<html ng-app>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <script type="text/javascript" charset="utf-8" src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script type="text/javascript" charset="utf-8" src="https://secure.aha.io/assets/javascript_api/aha-api.latest.js"></script>

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">

</head>
<body class="container">
<form id="controls">
    <input type="text" placeholder="Idea Name" id="ideaName"></input>
    <input type="text" placeholder="Idea Description" id="ideaDesc"></input>
    <input type="text" placeholder="domain" id="subdomain"></input>
      <input type="text" placeholder="Product key" id="product-key"></input>
    <input type="submit" class="btn" value="Load features"></input>
      </form>
<div id="features"></div>
  <!-- </form><button name ="btn" type="button" value="Load features" onclick="thisfunction()">touch</button> -->

  <script>

$("#controls").submit(function() {  
        console.log("clicked");
      new AhaApi({
        accountDomain: $("#subdomain").val(),
        clientId: "679bf2ba48cbe387a30af0ef9b07acd9a7a31e2cc6a85e73b8fe7c3f154a6d89", // NOTE: replace this with your client ID.
        redirectUri: "https://morphodetectionaha.github.io/html_post2.html"
      }).authenticate(function(api, success, message) {
       var productKey = $("#product-key").val();
        $("#controls").remove();
        console.log(success);

        //$.get("https://morphodetection.aha.io/oauth/authorize");


        api.post("/products/"+ productKey + "/ideas",
        {
          "idea":{

            "name": "test idea",
          "description": "<p>This is the description</p>",
          "initial_votes":3}

        },
        function(response){
         // console.log(response);
        });


    });

      return false;
    });






</script>
</body>
</html>